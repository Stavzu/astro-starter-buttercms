---
import { butterCMS } from "../utils/buttercmssdk";

const categories = await butterCMS.category.list();
const availableCategories = categories.data.data;
---

<>
  <div class="sidebar blog-grid-page">
    <div class="widget search-widget">
      <h5 class="widget-title">Search This Site</h5>
      <form action={`/blog/search`} method="get">
        <input type="text" name="q" placeholder="Search Here..." />
        <button type="submit"><i class="lni lni-search-alt"></i></button>
      </form>
    </div>
  </div>

  <div class="widget categories-widget">
    <h5 class="widget-title">Categories</h5>
    <ul class="categories-list">
      {
        availableCategories.map((category) => {
          return (
            <li>
              <a href={`/blog/category/${category.slug}/`}>{category.name}</a>
            </li>
          );
        })
      }
    </ul>
  </div>
</>
